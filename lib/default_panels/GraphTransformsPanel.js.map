{"version":3,"sources":["../../src/default_panels/GraphTransformsPanel.js"],"names":["AggregationSection","PlotlySection","Aggregations","context","fullContainer","aggregations","_","localize","length","filter","aggr","target","match","map","i","label","value","Component","plotly_editor_traits","no_visibility_forcing","contextTypes","PropTypes","object","func","GraphTransformsPanel","props","t","TRANSFORMABLE_TRACES","includes","type"],"mappings":"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","sourcesContent":["import {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Radio,\n  TransformAccordion,\n  TraceAccordion,\n  DataSelector,\n  Dropdown,\n  PlotlySection,\n  FilterOperation,\n  FilterValue,\n} from '../components';\nimport {connectAggregationToTransform} from '../lib';\nimport {TRANSFORMABLE_TRACES} from 'lib/constants';\n\nconst AggregationSection = connectAggregationToTransform(PlotlySection);\n\nexport class Aggregations extends Component {\n  render() {\n    const {\n      fullContainer: {aggregations = []},\n    } = this.context;\n    const {localize: _} = this.context;\n    if (aggregations.length === 0) {\n      return null;\n    }\n\n    return (\n      <PlotlySection name={_('Aggregations')} attr=\"aggregations\">\n        {aggregations\n          .filter((aggr) => aggr.target && aggr.target.match(/transforms\\[\\d*\\]\\./gi) === null)\n          .map(({target}, i) => (\n            <AggregationSection show key={i} aggregationIndex={i}>\n              <Dropdown\n                attr=\"func\"\n                label={target}\n                options={[\n                  {label: _('Count'), value: 'count'},\n                  {label: _('Sum'), value: 'sum'},\n                  {label: _('Average'), value: 'avg'},\n                  {label: _('Median'), value: 'median'},\n                  {label: _('Mode'), value: 'mode'},\n                  {label: _('RMS'), value: 'rms'},\n                  {label: _('Standard Deviation'), value: 'stddev'},\n                  {label: _('Min'), value: 'min'},\n                  {label: _('Max'), value: 'max'},\n                  {label: _('First'), value: 'first'},\n                  {label: _('Last'), value: 'last'},\n                  {label: _('Change'), value: 'change'},\n                  {label: _('Range'), value: 'range'},\n                ]}\n                clearable={false}\n              />\n            </AggregationSection>\n          ))}\n      </PlotlySection>\n    );\n  }\n}\n\nAggregations.plotly_editor_traits = {no_visibility_forcing: true};\nAggregations.contextTypes = {\n  fullContainer: PropTypes.object,\n  localize: PropTypes.func,\n};\n\nconst GraphTransformsPanel = (props, {localize: _}) => {\n  return (\n    <TraceAccordion traceFilterCondition={(t) => TRANSFORMABLE_TRACES.includes(t.type)}>\n      <TransformAccordion>\n        <Radio\n          attr=\"enabled\"\n          options={[\n            {label: _('Enabled'), value: true},\n            {label: _('Disabled'), value: false},\n          ]}\n        />\n\n        <DataSelector label={_('By')} attr=\"groups\" />\n\n        <DataSelector label={_('Target')} attr=\"target\" />\n        <Radio\n          attr=\"calcType\"\n          options={[\n            {label: _('First'), value: 'first'},\n            {label: _('Prev'), value: 'prev'},\n          ]}\n        />\n        <FilterOperation label={_('Operator')} attr=\"operation\" />\n        <FilterValue label={_('Value')} attr=\"value\" />\n\n        <Radio\n          attr=\"order\"\n          options={[\n            {label: _('Ascending'), value: 'ascending'},\n            {label: _('Descending'), value: 'descending'},\n          ]}\n        />\n\n        <Aggregations />\n      </TransformAccordion>\n    </TraceAccordion>\n  );\n};\n\nGraphTransformsPanel.contextTypes = {\n  localize: PropTypes.func,\n};\n\nexport default GraphTransformsPanel;\n"],"file":"GraphTransformsPanel.js"}