{"version":3,"sources":["../../../src/lib/__tests__/connectAnnotationToLayout-test.js"],"names":["describe","it","beforeUpdateLayout","jest","fn","fixture","fixtures","scatter","layout","annotations","text","ConnectedNumeric","Numeric","find","NumericInput","simulate","payload","mock","calls","expect","update","toEqual"],"mappings":";;;;AAAA;;AACA;;AACA;;AACA;;;;;;;;;;AAEAA,QAAQ,CAAC,2BAAD,EAA8B,YAAM;AAC1CC,EAAAA,EAAE,CAAC,0CAAD,EAA6C,YAAM;AACnD,QAAMC,kBAAkB,GAAGC,IAAI,CAACC,EAAL,EAA3B;;AACA,QAAMC,OAAO,GAAGC,oBAASC,OAAT,CAAiB;AAC/BC,MAAAA,MAAM,EAAE;AAACC,QAAAA,WAAW,EAAE,CAAC;AAACC,UAAAA,IAAI,EAAE;AAAP,SAAD;AAAd;AADuB,KAAjB,CAAhB;;AAGA,QAAMC,gBAAgB,GAAG,2BAAoB,iCAA0BC,eAA1B,CAApB,CAAzB;AAEA,wCACE,qBAAC,qBAAD,kEAAoBP,OAApB;AAA6BH,MAAAA,kBAAkB,EAAlBA;AAA7B;AAAA,6BACE,qBAAC,gBAAD;AAAkB,QAAA,eAAe,EAAE,CAAnC;AAAsC,QAAA,KAAK,EAAC,OAA5C;AAAoD,QAAA,IAAI,EAAC;AAAzD;AADF,OADF,EAKGW,IALH,CAKQC,qBALR,EAMGD,IANH,CAMQ,sBANR,EAOGE,QAPH,CAOY,OAPZ;AASA,QAAMC,OAAO,GAAGd,kBAAkB,CAACe,IAAnB,CAAwBC,KAAxB,CAA8B,CAA9B,EAAiC,CAAjC,CAAhB;AACAC,IAAAA,MAAM,CAACH,OAAO,CAACI,MAAT,CAAN,CAAuBC,OAAvB,CAA+B;AAAC,kCAA4B;AAA7B,KAA/B;AACD,GAlBC,CAAF;AAmBD,CApBO,CAAR","sourcesContent":["import NumericInput from '../../components/widgets/NumericInput';\nimport {Numeric} from '../../components/fields';\nimport {TestEditor, fixtures, mount} from '../test-utils';\nimport {connectLayoutToPlot, connectAnnotationToLayout} from '..';\n\ndescribe('connectAnnotationToLayout', () => {\n  it('sends update to layout.annotation[index]', () => {\n    const beforeUpdateLayout = jest.fn();\n    const fixture = fixtures.scatter({\n      layout: {annotations: [{text: 'hodor'}]},\n    });\n    const ConnectedNumeric = connectLayoutToPlot(connectAnnotationToLayout(Numeric));\n\n    mount(\n      <TestEditor {...{...fixture, beforeUpdateLayout}}>\n        <ConnectedNumeric annotationIndex={0} label=\"Angle\" attr=\"textangle\" />\n      </TestEditor>\n    )\n      .find(NumericInput)\n      .find('.js-numeric-increase')\n      .simulate('click');\n\n    const payload = beforeUpdateLayout.mock.calls[0][0];\n    expect(payload.update).toEqual({'annotations[0].textangle': 1});\n  });\n});\n"],"file":"connectAnnotationToLayout-test.js"}