{"version":3,"sources":["../../../src/components/widgets/TraceTypeSelector.js"],"names":["renderActionItems","actionItems","item","map","action","i","onClick","label","icon","Item","active","handleClick","actions","showActions","complex","value","SimpleIcon","ComplexIcon","propTypes","PropTypes","object","bool","func","contextTypes","localize","TraceTypeSelector","props","selectAndClose","bind","renderCategories","renderGrid","renderSingleBlock","updateContainer","glByDefault","type","fullContainer","computedValue","endsWith","TRACES_WITH_GL","includes","context","handleClose","_","chartHelp","e","stopPropagation","feedQuery","window","open","helpDoc","examplePlot","fullValue","traceTypesConfig","traces","categories","category","items","filter","MAX_ITEMS","columnClasses","length","maxColumns","Boolean","display","Component","string","mapBoxAccess","TraceTypeSelectorButton","container","inferredType","find","Icon","isRequired"],"mappings":"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","sourcesContent":["import {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {SearchIcon, ThumnailViewIcon, GraphIcon} from 'plotly-icons';\nimport Modal from 'components/containers/Modal';\nimport {traceTypeToPlotlyInitFigure, renderTraceIcon, plotlyTraceToCustomTrace} from 'lib';\nimport {TRACES_WITH_GL} from 'lib/constants';\n\nconst renderActionItems = (actionItems, item) =>\n  actionItems\n    ? actionItems(item).map((action, i) =>\n        !action.onClick ? null : (\n          <a\n            className=\"trace-item__actions__item\"\n            key={i}\n            aria-label={action.label}\n            data-microtip-position={`top-left`}\n            role=\"tooltip\"\n            onClick={action.onClick}\n            target=\"_blank\"\n          >\n            {action.icon}\n          </a>\n        )\n      )\n    : null;\n\nconst Item = ({item, active, handleClick, actions, showActions, complex}) => {\n  const {label, value, icon} = item;\n  const SimpleIcon = renderTraceIcon(icon ? icon : value);\n  const ComplexIcon = renderTraceIcon(icon ? icon : value, 'TraceType');\n\n  return (\n    <div className={`trace-item${active ? ' trace-item--active' : ''}`} onClick={handleClick}>\n      <div className=\"trace-item__actions\">\n        {actions && showActions ? renderActionItems(actions, item) : null}\n      </div>\n      <div className=\"trace-item__image\">\n        {!complex && (\n          <div className=\"trace-item__image__svg\">\n            <SimpleIcon />\n          </div>\n        )}\n        {complex && (\n          <div className=\"trace-item__image__wrapper\">\n            <ComplexIcon />\n          </div>\n        )}\n      </div>\n      <div className=\"trace-item__label\">{label}</div>\n    </div>\n  );\n};\n\nItem.propTypes = {\n  item: PropTypes.object,\n  active: PropTypes.bool,\n  complex: PropTypes.bool,\n  handleClick: PropTypes.func,\n  actions: PropTypes.func,\n  showActions: PropTypes.bool,\n};\nItem.contextTypes = {\n  localize: PropTypes.func,\n};\n\nclass TraceTypeSelector extends Component {\n  constructor(props) {\n    super(props);\n\n    this.selectAndClose = this.selectAndClose.bind(this);\n    this.actions = this.actions.bind(this);\n    this.renderCategories = this.renderCategories.bind(this);\n    this.renderGrid = this.renderGrid.bind(this);\n    this.renderSingleBlock = this.renderSingleBlock.bind(this);\n  }\n\n  selectAndClose(value) {\n    const {\n      updateContainer,\n      glByDefault,\n      fullContainer: {type},\n    } = this.props;\n    const computedValue = traceTypeToPlotlyInitFigure(value);\n    if (\n      ((type && type.endsWith('gl')) || (!TRACES_WITH_GL.includes(type) && glByDefault)) &&\n      TRACES_WITH_GL.includes(computedValue.type) &&\n      !computedValue.type.endsWith('gl')\n    ) {\n      computedValue.type += 'gl';\n    }\n    updateContainer(computedValue);\n    this.context.handleClose();\n  }\n\n  actions({value}) {\n    const {localize: _, chartHelp} = this.context;\n\n    const onClick = (e, func) => {\n      e.stopPropagation();\n      func();\n      this.context.handleClose();\n    };\n\n    return [\n      {\n        label: _('Charts like this by Plotly users.'),\n        onClick:\n          chartHelp[value] &&\n          chartHelp[value].feedQuery &&\n          ((e) =>\n            onClick(e, () =>\n              window.open(\n                `https://plot.ly/feed/?q=${chartHelp[value] ? chartHelp[value].feedQuery : value}`,\n                '_blank'\n              )\n            )),\n        icon: <SearchIcon />,\n      },\n      {\n        label: _('View tutorials on this chart type.'),\n        onClick:\n          chartHelp[value] &&\n          chartHelp[value].helpDoc &&\n          ((e) => onClick(e, () => window.open(chartHelp[value].helpDoc, '_blank'))),\n        icon: <ThumnailViewIcon />,\n      },\n      {\n        label: _('See a basic example.'),\n        onClick:\n          chartHelp[value] &&\n          chartHelp[value].examplePlot &&\n          ((e) => onClick(e, chartHelp[value].examplePlot)),\n        icon: <GraphIcon />,\n      },\n    ];\n  }\n\n  renderCategories() {\n    const {fullValue} = this.props;\n    const {localize: _, chartHelp} = this.context;\n    const {\n      traceTypesConfig: {traces, categories, complex},\n    } = this.props;\n\n    return categories(_).map((category, i) => {\n      const items = traces(_)\n        .filter(({category: {value}}) => value === category.value)\n        .filter((i) => i.value !== 'scattergl' && i.value !== 'scatterpolargl');\n\n      const MAX_ITEMS = 4;\n\n      const columnClasses =\n        (items.length > MAX_ITEMS && !category.maxColumns) ||\n        (category.maxColumns && category.maxColumns > 1)\n          ? 'trace-grid__column trace-grid__column--double'\n          : 'trace-grid__column';\n\n      return (\n        <div className={columnClasses} key={i}>\n          <div className=\"trace-grid__column__header\">{category.label}</div>\n          <div className=\"trace-grid__column__items\">\n            {items.map((item) => (\n              <Item\n                complex={complex}\n                key={item.value}\n                active={fullValue === item.value}\n                item={item}\n                actions={this.actions}\n                handleClick={() => this.selectAndClose(item.value)}\n                showActions={Boolean(chartHelp)}\n              />\n            ))}\n          </div>\n        </div>\n      );\n    });\n  }\n\n  renderGrid() {\n    return <div className=\"trace-grid\">{this.renderCategories()}</div>;\n  }\n\n  renderSingleBlock() {\n    const {fullValue} = this.props;\n    const {localize: _} = this.context;\n    const {\n      traceTypesConfig: {traces, complex},\n    } = this.props;\n\n    return (\n      <div className=\"trace-grid-single-block\">\n        {traces(_).map((item) => (\n          <Item\n            key={item.value}\n            complex={complex}\n            active={fullValue === item.value}\n            item={item}\n            actions={this.actions}\n            showActions={false}\n            handleClick={() => this.selectAndClose(item.value)}\n            style={{display: 'inline-block'}}\n          />\n        ))}\n      </div>\n    );\n  }\n\n  render() {\n    const {localize: _} = this.context;\n    const {\n      traceTypesConfig: {categories},\n    } = this.props;\n\n    return (\n      <Modal title={_('Select Trace Type')}>\n        {categories ? this.renderGrid() : this.renderSingleBlock()}\n      </Modal>\n    );\n  }\n}\n\nTraceTypeSelector.propTypes = {\n  updateContainer: PropTypes.func,\n  fullValue: PropTypes.string,\n  fullContainer: PropTypes.object,\n  glByDefault: PropTypes.bool,\n  traceTypesConfig: PropTypes.object,\n};\nTraceTypeSelector.contextTypes = {\n  handleClose: PropTypes.func,\n  localize: PropTypes.func,\n  mapBoxAccess: PropTypes.bool,\n  chartHelp: PropTypes.object,\n};\n\nexport class TraceTypeSelectorButton extends Component {\n  render() {\n    const {\n      handleClick,\n      container,\n      traceTypesConfig: {traces},\n    } = this.props;\n\n    const {localize: _} = this.context;\n\n    const inferredType = plotlyTraceToCustomTrace(container);\n    const {label, icon, value} = traces(_).find((type) => type.value === inferredType);\n\n    const Icon = renderTraceIcon(icon ? icon : value);\n\n    return (\n      <div className=\"trace-type-select-button\" onClick={handleClick ? handleClick : null}>\n        <div className=\"trace-type-select-button__icon\">\n          <Icon />\n        </div>\n        {label}\n      </div>\n    );\n  }\n}\n\nTraceTypeSelectorButton.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n  container: PropTypes.object,\n  traceTypesConfig: PropTypes.object.isRequired,\n};\nTraceTypeSelectorButton.contextTypes = {\n  localize: PropTypes.func,\n};\n\nexport default TraceTypeSelector;\n"],"file":"TraceTypeSelector.js"}